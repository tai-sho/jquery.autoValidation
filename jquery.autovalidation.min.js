 /**
  * jQuery autoValidation
  * @author ShoheiTai
  * @version 1.1.0
  * @license <a href="http://en.wikipedia.org/wiki/MIT_License">X11/MIT License</a>
  * @link https://github.com/tai-sho/jquery.autoValidation
  */
;(function($){var h='keyup blur';var i='form-error';var j='error';var k='.'+j;var l=400;var m='form';var n='span';var o=true;var p={'master':'入力に誤りがあります。入力内容をご確認ください。','alphanumeric':'半角英数字で入力してください。','req':'必須入力です。','kana':'全角カタカナで入力してください。','mail':'メールアドレスの形式で入力してください。','short':'#STR1#字以上で入力してください。','long':'#STR1#字以下で入力してください。','half_num':'半角数字で入力してください。','full_num':'全角数字で入力してください。','num':'数字で入力してください。','between':'#STR1#字以上#STR2#字以下で入力してください。','nosame':'#STR1#と内容が一致しません。','_nosame':'値が一致しません。','pattern':'指定された形式と一致しません。','func':'入力に誤りがあります'};var q={'isInputted':function(a){return(a.length!==0)},'isHalfNum':function(a){return(a.length===0||a.match(/^[0-9]+$/))},'isFullNum':function(a){return(a.length===0||a.match(/^[０-９]+$/))},'isHalfKana':function(a){return(a.length===0||a.match(/^[ｧ-ﾝﾞﾟ]+$/))},'isFullKana':function(a){return(a.length===0||a.match(/^[ァ-ー]+$/))},'isFullKanaName':function(a){return(a.length===0||a.match(/^[ァ-ヶー゛゜]*[　 ]*[ァ-ヶー゛゜]+$/))},'isMail':function(b){return(b.length===0||b.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+$/))},'isBetween':function(a,b,c){return(a.length===0||a.length>=b&&c>=a.length)},'isShort':function(a,b){return(a.length===0||b<=a.length)},'isLong':function(a,b){return(a.length===0||a.length<=b)},'isSame':function(a,b){return(a===b)},'isAlphanumeric':function(a){return(a.length===0||a.match(/^[a-zA-Z0-9]+$/))},'pattern':function(a,b){return(a.length===0||a.match(new RegExp(b)))}};function toggleErrorHtml(a,b){if(b.length===0){a.next(k).remove();a.removeClass(i)}else{if(a.next(k).length){a.next(k).html(b)}else{a.after(getErrorHtml(b))}a.addClass(i)}return true}function getErrorHtml(a){return'<'+n+' class="'+j+'">'+a+'</'+n+'>'}function getErrorText(a,b,c){var d=p[a];if(b){d=d.replace('#STR1#',b)}if(c){d=d.replace('#STR2#',c)}return d}function validate(e){if(e.type==='keyup'&&e.keyCode===9)return false;var a='';var b=$(this).val();var c=e.data.rules;var d=true;if(c.required!==undefined){if(!q.isInputted(b)){if(c.required&&c.required.msg){a=c.required.msg}else{a=getErrorText('req')}d=Boolean(a)}}if(d){for(var f in c){if(c[f]&&c[f]['msg']){a=c[f]['msg']}if(c[f]){switch(f){case'number':switch(c[f]['pitch']){case'full':if(!q.isFullNum(b)){a=a?a:getErrorText('full_num')}break;case'half':if(!q.isHalfNum(b)){a=a?a:getErrorText('half_num')}break}break;case'between':if(!q.isBetween(b,c[f]['min'],c[f]['max'])){a=a?a:getErrorText('between',c[f]['min'],c[f]['max'])}break;case'long':if(!q.isLong(b,c[f]['max'])){a=a?a:getErrorText('long',c[f]['max'])}break;case'short':if(!q.isShort(b,c[f]['min'])){a=a?a:getErrorText('kana',c[f]['min'])}break;case'equals':var g=$(c[f]['target']).val();if(!q.isSame(b,g)){if(c[f]['name']){a=a?a:getErrorText('nosame',c[f]['name'])}else{a=a?a:getErrorText('_nosame')}}break;case'pattern':if(!q.pattern(b,c[f]['reg'])){a=a?a:getErrorText('pattern')}break;default:if(typeof(c[f]['rule'])==='function'){if(!(b.length===0||c[f]['rule'](b))){a=a?a:getErrorText('func')}}break}}else{switch(f){case'alphanumeric':if(!q.isAlphanumeric(b)){a=a?a:getErrorText('alphanumeric')}break;case'email':if(!q.isMail(b)){a=a?a:getErrorText('mail')}break;case'kana':if(!q.isFullKana(b)){a=a?a:getErrorText('kana')}break;case'name_kana':if(!q.isFullKanaName(b)){a=a?a:getErrorText('kana')}break}}}}toggleErrorHtml($(this),a)}$.fn.autoValidation=function(d,e){for(var f in e){switch(f){case'errorInputClass':i=e[f];break;case'errorMsgClass':j=e[f];k='.'+j;break;case'scrollSpeed':l=e[f];break;case'errorTag':n=e[f];break;case'scrollTarget':m=e[f];break;case'alert':if(e[f]['out']===false){o=false}else if(e[f]['msg']){p.master=e[f]['msg']}}}if(d){for(var g in d){$(g).bind(h,{'rules':d[g]},validate)}}else{console.error('the setting was not found.')}this.bind('submit',function(){var a=h.split(' ');$('form input').trigger(a[0]);var b=$(k);if(b.length>0){if(o){alert(p.master)}if(m){var c=$(m).offset().top;$('body,html').animate({scrollTop:c},l,'swing')}return false}});return this}})(jQuery);