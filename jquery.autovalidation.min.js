 /**
  * jQuery AutoValidation
  * @author ShoheiTai
  * @version 1.1.1
  * @license <a href="http://en.wikipedia.org/wiki/MIT_License">X11/MIT License</a>
  * @link https://github.com/tai-sho/jquery.autoValidation
  */
;(function($){var i='keyup blur';var j='form-error';var k='error';var l='.'+k;var m=400;var n='form';var o='span';var p=true;var q={'master':'入力に誤りがあります。入力内容をご確認ください。','alphanumeric':'半角英数字で入力してください。','req':'必須入力です。','kana':'全角カタカナで入力してください。','mail':'メールアドレスの形式で入力してください。','short':'#STR1#字以上で入力してください。','long':'#STR1#字以下で入力してください。','half_num':'半角数字で入力してください。','full_num':'全角数字で入力してください。','num':'数字で入力してください。','between':'#STR1#字以上#STR2#字以下で入力してください。','nosame':'#STR1#と内容が一致しません。','_nosame':'値が一致しません。','pattern':'指定された形式と一致しません。','func':'入力に誤りがあります'};var r={'isInputted':function(a){return(a.length!==0)},'isHalfNum':function(a){return(a.length===0||a.match(/^[0-9]+$/))},'isFullNum':function(a){return(a.length===0||a.match(/^[０-９]+$/))},'isHalfKana':function(a){return(a.length===0||a.match(/^[ｧ-ﾝﾞﾟ]+$/))},'isFullKana':function(a){return(a.length===0||a.match(/^[ァ-ー]+$/))},'isFullKanaName':function(a){return(a.length===0||a.match(/^[ァ-ヶー゛゜]*[　 ]*[ァ-ヶー゛゜]+$/))},'isMail':function(b){return(b.length===0||b.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+$/))},'isBetween':function(a,b,c){return(a.length===0||a.length>=b&&c>=a.length)},'isShort':function(a,b){return(a.length===0||b<=a.length)},'isLong':function(a,b){return(a.length===0||a.length<=b)},'isSame':function(a,b){return(a===b)},'isAlphanumeric':function(a){return(a.length===0||a.match(/^[a-zA-Z0-9]+$/))},'pattern':function(a,b){return(a.length===0||a.match(new RegExp(b)))}};function toggleErrorHtml(a,b){if(b.length===0){a.next(l).remove();a.removeClass(j)}else{if(a.next(l).length){a.next(l).html(b)}else{a.after(getErrorHtml(b))}a.addClass(j)}return true}function getErrorHtml(a){return'<'+o+' class="'+k+'">'+a+'</'+o+'>'}function getErrorText(a,b,c){var d=q[a];if(b){d=d.replace('#STR1#',b)}if(c){d=d.replace('#STR2#',c)}return d}function validate(e){if(e.type==='keyup'&&e.keyCode===9)return false;var a='';var b=$(this).val();var c=e.data.rules;var d=true;if(c.required!==undefined){if(!r.isInputted(b)){if(c.required&&c.required.msg){a=c.required.msg}else{a=getErrorText('req')}d=!Boolean(a)}}if(d){for(var f in c){var g='';if(c[f]&&c[f]['msg']){g=c[f]['msg']}switch(f){case'alphanumeric':if(!r.isAlphanumeric(b)){a=g?g:getErrorText('alphanumeric')}break;case'email':if(!r.isMail(b)){a=g?g:getErrorText('mail')}break;case'kana':if(!r.isFullKana(b)){a=g?g:getErrorText('kana')}break;case'name_kana':if(!r.isFullKanaName(b)){a=g?g:getErrorText('kana')}break;case'number':switch(c[f]['pitch']){case'full':if(!r.isFullNum(b)){a=g?g:getErrorText('full_num')}break;case'half':if(!r.isHalfNum(b)){a=g?g:getErrorText('half_num')}break}break;case'between':if(!r.isBetween(b,c[f]['min'],c[f]['max'])){a=g?g:getErrorText('between',c[f]['min'],c[f]['max'])}break;case'long':if(!r.isLong(b,c[f]['max'])){a=g?g:getErrorText('long',c[f]['max'])}break;case'short':if(!r.isShort(b,c[f]['min'])){a=g?g:getErrorText('kana',c[f]['min'])}break;case'equals':var h=$(c[f]['target']).val();if(!r.isSame(b,h)){if(c[f]['name']){a=g?g:getErrorText('nosame',c[f]['name'])}else{a=g?g:getErrorText('_nosame')}}break;case'pattern':if(!r.pattern(b,c[f]['reg'])){a=g?g:getErrorText('pattern')}break;default:if(c[f]&&typeof(c[f]['rule'])==='function'){if(!(b.length===0||c[f]['rule'](b))){a=g?g:getErrorText('func')}}break}}}toggleErrorHtml($(this),a)}$.fn.autoValidation=function(d,e){for(var f in e){switch(f){case'errorInputClass':j=e[f];break;case'errorMsgClass':k=e[f];l='.'+k;break;case'scrollSpeed':m=e[f];break;case'errorTag':o=e[f];break;case'scrollTarget':n=e[f];break;case'alert':if(e[f]['out']===false){p=false}else if(e[f]['msg']){q.master=e[f]['msg']}}}if(d){for(var g in d){$(g).bind(i,{'rules':d[g]},validate)}}else{console.error('the setting was not found.')}this.bind('submit',function(){var a=i.split(' ');$('form input').trigger(a[0]);var b=$(l);if(b.length>0){if(p){alert(q.master)}if(n){var c=$(n).offset().top;$('body,html').animate({scrollTop:c},m,'swing')}return false}});return this}})(jQuery);